<!-- じゃんけんプログラム-->

<HTML>
<HEAD>
<TITLE>じゃんけんプログラム</TITLE>

<!-- 関数の部分 -->

<SCRIPT Language="JavaScript">
<!--
var KIROKU0 = 0;	// 引き分け
var KIROKU1 = 0;	// プレイヤーの勝ち
var KIROKU2 = 0;	// プレイヤーの負け
function PLAY(){
	jyanken = new Array("グー","チョキ","パー");			// グー=0,チョキ=1,パー=2
	HUM = eval(document.MYFORM.KOTAE.value);			// プレイヤーが出す手
	COM = Math.floor(Math.random()*3);				// コンピュータが出す手
	document.MYFORM.KAZU1.value = jyanken[HUM];
	document.MYFORM.KAZU2.value = jyanken[COM];
	JUDGE = HUM - COM;						// 数値化された手を引き算して、勝敗の判定を行う
	if(JUDGE == 0){							// 引き分け
		document.MYFORM.KAZU3.value ="引き分け";
		KIROKU0++;
	}else if(JUDGE == -1 || JUDGE == 2){				// プレイヤーの勝ち
		document.MYFORM.KAZU3.value ="あなたの勝ち！";
		KIROKU1++;
	}else{								// プレイヤーの負け
		document.MYFORM.KAZU3.value ="あなたの負け...";
		KIROKU2++;
	}
	document.MYFORM.KAZU4.value = KIROKU1;
	document.MYFORM.KAZU5.value = KIROKU2;
	document.MYFORM.KAZU6.value = KIROKU0;
}
function RESET(){
	KIROKU0 = 0;
	KIROKU1 = 0;
	KIROKU2 = 0;
	document.MYFORM.KAZU1.value = "";
	document.MYFORM.KAZU2.value = "";
	document.MYFORM.KAZU3.value = "";
	document.MYFORM.KAZU4.value = KIROKU1;
	document.MYFORM.KAZU5.value = KIROKU2;
	document.MYFORM.KAZU6.value = KIROKU0;

}
function RESULT(){
	document.MYFORM.KAZU4.value = KIROKU1;
	document.MYFORM.KAZU5.value = KIROKU2;
	WINRATE=KIROKU1/(KIROKU1+KIROKU2);
	if(WINRATE>=0.7){
		alert('とても強いですね！');
	}else if(WINRATE>=0.4){
		alert('まあまあですね');
	}else{
		alert('がんばりましょう');
	}
}
// -->
</SCRIPT>



<!-- ＵＩの部分 -->

</HEAD>
<BODY BGCOLOR=lightsteelblue>
<FONT COLOR=midnightblue SIZE=6>
わたしとじゃんけんしましょう。
</FONT>
<BR>
ボタンを一つ選択し、「じゃんけん」ボタンを押してください。<BR>
<FORM NAME="MYFORM">
<select name="KOTAE">
<option value="0">グー</option>
<option value="1">チョキ</option>
<option value="2">パー</option>
</select>
<INPUT TYPE="button" VALUE="じゃんけん" onClick=PLAY()>
<INPUT TYPE="button" VALUE=" リセット " onClick=RESET()>
<BR><BR>
あなたの手<INPUT TYPE="text" NAME="KAZU1">
  VS  
<INPUT TYPE="text" NAME="KAZU2">
コンピュータの手
<BR>
<BR>
勝敗：<INPUT TYPE="text" NAME="KAZU3"><BR>
<BR><BR><BR>
結果
<BR>
<INPUT TYPE="text" NAME="KAZU4">勝
<INPUT TYPE="text" NAME="KAZU6">負
<INPUT TYPE="text" NAME="KAZU5">引分
<INPUT TYPE="button" VALUE="分析" onClick=RESULT()>
</FORM>
</BODY>
</HTML>

